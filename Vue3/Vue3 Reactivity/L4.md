# [Vue 3 Reactivity](https://www.vuemastery.com/courses/vue-3-reactivity/vue3-reactivity/)

## Lesson 4 Computed Values & Vue 3 Source

As we’ve been building out our Reactivity example, you may have been wondering “why haven’t we used computed for our values where we’ve been using effect?” When looking at our example:

```javaScript
let product = reactive({ price: 5, quantity: 2 })
let salePrice = ref(0)
let total = 0
effect(() => {
  salePrice.value = product.price * 0.9
})
effect(() => {
  total = salePrice.value * product.quantity
})
```

It seems clear to me that if I was coding up Vue I would write both salePrice and total as computed properties. If you’re familiar with the Vue 3 composition API, you’re probably familiar with the computed syntax.

```javaScript
let product = reactive({ price: 5, quantity: 2 })

let salePrice = computed(() => {
  return product.price * 0.9
})
let total = computed(() => {
  return salePrice.value * product.quantity
})
```

Makes sense right? And notice how my salePrice computed property is included inside my total computed property, and that we access it using .value. This is our first clue to implementation. It looks like we’re creating another reactive reference. Here’s how we create our computed function:

```javaScript
function computed(getter) {
  let result = ref()  // Create a new reactive reference

  effect(() => (result.value = getter())) // Set this value equal to the return value of the getter

  return result // return the reactive reference
}
```

Vue 2 Limitation:
Unable to add new reactive properties to a reactive object after creation.

```javaScript
let product = reactive({price: 5, quantity: 2})
...
// Product name is now Shoes
product.name = 'Shoes'

effect(()=> {
    console.log(`Product name is now ${product.name}`)
})

// Does not run the effect again, name is not reactive
product.name = 'Socks'
```

Get and Set hooks are added to individual properties with Vue 2. So to add new properties you had to do:

```javaScript
Vue.set(product, 'name', 'Socks')
```

That’s all there is to it. You can view / run the code in its entirety over on Github. Our code prints out:

```javaScript
Before updated quantity total (should be 9) = 9 salePrice (should be 4.5) = 4.5
After updated quantity total (should be 13.5) = 13.5 salePrice (should be 4.5) = 4.5
After updated price total (should be 27) = 27 salePrice (should be 9) = 9
}
```
