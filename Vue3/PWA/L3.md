# Service Workers

When it comes to working with progressive web apps, you won’t get very far before you hear about this thing called a “service worker.” So what are they?

## What are service workers?

Service workers might sound complicated, but at the end of the day, they’re simply scripts that your browser can run in the background. And as a result, it allows us as developers to support really rich, offline experiences, which is really exciting when it comes to progressive web apps.

## How do they work with Vue CLI?

So how do we handle service workers inside of the Vue CLI? If we open up this file here: registerServiceWorker.js. You’ll see here that Vue CLI, true to its ethos, is trying to simplify things by providing a boilerplate script on how we register service workers.

```javaScript
/* eslint-disable no-console */

import { register } from 'register-service-worker'

/* Rest of the code omitted for brevity */
```

So as you can see here, there’s an import register function from register-service-worker, which is a library to assist with service worker registrations. And then when it’s production, we’ll go ahead and build out that service worker.

Inside we can define things inside of these various lifecycle hooks.

```javaScript

/* Sample Service Worker Lifecycle Hooks */

if (process.env.NODE_ENV === 'production') {
  register(`service-worker.js`, {
    ready () {
      // When the service worker is ready...
    },
    registered () {
      // When the service has been regisered
    },
    cached () {
      // When the content has been cached for offline use
    },
    updatefound () {
      // When new content has been found and is being downloaded
    },
    updated () {
      // When new content is available and a refresh is needed
    },
    offline () {
      // When the app goes into offline mode
    },
    error (error) {
      // When the app encounters an error during registration
    }
  })
}
```

For example, like what happens when it’s ready? When it’s been registered, we have cached, updatefound, updated, offline, and even error state. We don’t need to change anything at this time, but in case you need to come in here and make modifications, now you know where to look. Let’s go ahead and see what the service worker looks like when we actually ship it to users. I’ll open up my console and I’ll run yarn build.

We see that we now have this newly created dist folder, which contains the distributed artifacts that we’ll be sending to users. Inside of here, you’ll see that there’s a lot of boilerplate that’s already been defined as far as importing scripts and ensuring that the correct things are being brought in. But then there’s also this thing called Workbox here. And so I want to cover this real quick because Workbox is actually quite essential when it comes to working with progressive web apps.
